const Discord = require('discord.js');
const client = new Discord.Client();
const prefix = '*'

client.on('ready', () => {
  console.log(`Logged in as ${client.user.tag}!`);
client.user.setGame(`Night`,"http://twitch.tv/S-F")
  console.log('')
  console.log('')
  console.log('â•”[â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•]â•—')
  console.log(`[Start] ${new Date()}`);
  console.log('â•š[â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•]â•')
  console.log('')
  console.log('â•”[â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•]â•—');
  console.log(`Logged in as * [ " ${client.user.username} " ]`);
  console.log('')
  console.log('Informations :')
  console.log('')
  console.log(`servers! [ " ${client.guilds.size} " ]`);
  console.log(`Users! [ " ${client.users.size} " ]`);
  console.log(`channels! [ " ${client.channels.size} " ]`);
  console.log('â•š[â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•]â•')
  console.log('')
  console.log('â•”[â•â•â•â•â•â•â•â•â•â•â•â•]â•—')
  console.log(' Bot Is Online')
  console.log('â•š[â•â•â•â•â•â•â•â•â•â•â•â•]â•')
  console.log('')
  console.log('')
});
client.on('message', message => {
    if (message.author.id === client.user.id) return;
    if (message.guild) {
   let embed = new Discord.RichEmbed()
    let args = message.content.split(' ').slice(1).join(' ');
if(message.content.split(' ')[0] == prefix + 'bc') {
    if (!args[1]) {
return;
}
        message.guild.members.forEach(m => {
   if(!message.member.hasPermission('ADMINISTRATOR')) return;
            var bc = new Discord.RichEmbed()
            .addField(' Â» Ø§Ù„Ø±Ø³Ø§Ù„Ø© : ', args)
            .setColor('#ff0000')
            // m.send(`[${m}]`);
            m.send(`${m}`,{embed: bc});
        });
    }
    } else {
        return;
    }
});
client.on('message', message => {
if (message.content.startsWith("*ban")) {
    var mention = message.mentions.members.first();
    if (!message.member.hasPermission("BAN_MEMBERS")) return;
    if(!mention) return message.channel.send("ÙŠØ¬Ø¨ Ù…Ù†Ø´Ù† Ø§Ù„Ø¹Ø¶Ùˆ");

    mention.ban();
    
    message.channel.send("ØªÙ… Ø£Ø¹Ø·Ø§Ø¡ Ø¨Ø§Ù†Ø¯ Ø§Ù„Ù‰ : " + mention.user.username);
};
});
client.on('message', message => {
if (message.content.startsWith("*kick")) {
    var mention = message.mentions.members.first();
    if (!message.member.hasPermission("KICK_MEMBERS")) return;
    if(!mention) return message.channel.send("ÙŠØ¬Ø¨ Ù…Ù†Ø´Ù† Ø§Ù„Ø¹Ø¶Ùˆ");

    mention.kick("By: " + message.author.tag);
    
    message.channel.send("ØªÙ… Ø£Ø¹Ø·Ø§Ø¡ ÙƒÙŠÙƒ Ø§Ù„Ù‰ : " + mention.user.username);
};
});
client.on('message', msg => {
  if (msg.author.bot) return;
  if (!msg.content.startsWith(prefix)) return;
  let command = msg.content.split(" ")[0];
  command = command.slice(prefix.length);
  let args = msg.content.split(" ").slice(1);

    if(command === "clear") {
        const emoji = client.emojis.find("name", "wastebasket")
    let textxt = args.slice(0).join("");
    if(msg.member.hasPermission("MANAGE_MESSAGES")) {
    if (textxt == "") {
        msg.delete().then
    msg.channel.send("***```Ø¶Ø¹ Ø¹Ø¯Ø¯ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ØªÙŠ ØªØ±ÙŠØ¯ Ù…Ø³Ø­Ù‡Ø§ ğŸ‘Œ```***").then(m => m.delete(3000));
} else {
    msg.delete().then
    msg.delete().then
    msg.channel.bulkDelete(textxt);
        msg.channel.send("```php\nØ¹Ø¯Ø¯ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ØªÙŠ ØªÙ… Ù…Ø³Ø­Ù‡Ø§: " + textxt + "\n```").then(m => m.delete(3000));
        }    
    }
}
});
client.on('message', message => {

    if (message.content === "*mutechannel") {
                        if(!message.channel.guild) return message.reply(' This command only for servers');

if(!message.member.hasPermission('MANAGE_MESSAGES')) return message.reply(' Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ§Øª');
           message.channel.overwritePermissions(message.guild.id, {
         SEND_MESSAGES: false

           }).then(() => {
               message.reply("ØªÙ… ØªÙ‚ÙÙŠÙ„ Ø§Ù„Ø´Ø§Øª :white_check_mark: ")
           });
             }
//â„¢Â¦à¼ºâ™šÆ™á¼¶Õ²Ö|MaSâ™šà¼ºÂ¦â„¢#7105
if (message.content === "*unmutechannel") {
    if(!message.channel.guild) return message.reply(' This command only for servers');

if(!message.member.hasPermission('MANAGE_MESSAGES')) return message.reply('Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ§Øª');
           message.channel.overwritePermissions(message.guild.id, {
         SEND_MESSAGES: true

           }).then(() => {
               message.reply("ØªÙ… ÙØªØ­ Ø§Ù„Ø´Ø§Øª:white_check_mark:")
           });
             }
  client.on('message', msg => { 
    if (msg.content.startsWith(`*warn`)) {
      if(!msg.member.hasPermission("MANAGE_MESSAGES")) return;
       let args = msg.content.split(" ").slice(1);
      if (!msg.mentions.members.first()) return msg.reply('Ù…Ù†Ø´Ù† Ø§Ù„Ø´Ø®Øµ Ø§Ù„Ù…Ø­Ø¯Ø¯')
      if (!args[0]) return msg.reply('Ø§ÙƒØªØ¨ Ø§Ù„Ø³Ø¨Ø¨')
      //ØºÙŠØ± Ø§Ø³Ù… Ø§Ù„Ø±ÙˆÙ… Ø§Ùˆ Ø³ÙˆÙŠ Ø±ÙˆÙ… Ø¨Ø°Ø§ Ø§Ù„Ø§Ø³Ù… 
      if (msg.guild.channels.find('name', 'warns')) {
        //Ø§Ø°Ø§ ØºÙŠØ±Øª ÙÙˆÙ‚ ØºÙŠØ± Ù‡Ù†Ø§ ÙƒÙ…Ø§Ù† 
        msg.guild.channels.find('name', 'warns').send(`
      ØªÙ… Ø§Ø¹Ø·Ø§Ø¦Ùƒ Ø§Ù†Ø°Ø§Ø± : ${msg.mentions.members.first()}
      Ù„Ø£Ù†Ùƒ Ù‚Ù…Øª Ø¨Ù…Ø§ ÙŠÙ„ÙŠ
      ${args.join(" ").split(msg.mentions.members.first()).slice(' ')}
      `)
      }
    }
})
client.login(process.env.BOT_TOKEN);
